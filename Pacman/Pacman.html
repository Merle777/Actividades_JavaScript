<!DOCTYPE html>
<html>
<head>
	<title>Pacman Demo</title>
	<link rel="stylesheet" type="text/css" href="stylepacman.css">
</head>
<body>
<div id="container">
	<div id="world"></div>
	<div id="pacman"></div>
	<div id="pacman2"></div>
	<div id="score">0</div>
	<div id="score2">0</div>
</div>
	<script>
		
	var world = [
	// 1=coin, 2=block, 0=empty
		[2,2,2,2,2,2,2,2,2,2],
		[2,0,1,1,2,2,1,1,1,2],
		[2,2,2,1,2,2,1,1,1,2],
		[2,1,1,1,1,1,1,2,2,2],
		[2,1,1,1,1,1,1,1,1,2],
		[0,1,2,2,1,2,2,2,1,0],
		[2,1,1,1,1,1,1,1,1,2],
		[2,1,2,2,2,2,2,2,1,2],
		[2,1,1,1,1,1,1,1,1,2],
		[2,2,2,2,2,2,2,2,2,2]

	];

	var score = 0;
	var score2 = 0;

	var pacman = {
		x: 1,
		y: 1
	}
	var pacman2 = {
		x: 1,
		y: 1
	}

	function displayWorld(){
		var output = " ";

		for (var i=0; i<world.length; i++ ){
			output += "\n<div class='row'>\n";
			for (var j=0; j<world[i].length; j++){
				if (world[i][j] == 2)
					output += "<div class='block'></div>";
				else if (world[i][j] == 1)
					output += "<div class='coin'></div>";
				if (world[i][j] == 0)
					output += "<div class='empty'></div>";	
			}
			output += "\n</div>";
		}
		// console.log (output);
		document.getElementById("world").innerHTML = output;
	}
	function displayPacman (){
		document.getElementById("pacman").style.top = pacman.y*20+"px";
		document.getElementById("pacman").style.left = pacman.x*20+"px";
	}
	function displayScore (){
		document.getElementById("score").innerHTML = score;
	}

	function displayScore2 (){
		document.getElementById("score2").innerHTML = score2;
	}

	displayWorld();
	displayPacman();

	function displayPacman2 (){
		document.getElementById("pacman2").style.top = pacman2.y*20+"px";
		document.getElementById("pacman2").style.left = pacman2.x*20+"px";
	}

	displayWorld();
	displayPacman2();
	

// up=38 , right=39 , down=40 , left=37
	document.onkeydown = function(m){
		if (m.keyCode == 37 && world[pacman.y][pacman.x-1] != 2){
			document.getElementById('pacman').style.transform="rotate(180deg)";
			pacman.x --;
		}
		else if (m.keyCode == 39 && world[pacman.y][pacman.x+1] != 2){
			document.getElementById('pacman').style.transform="rotate(0deg)";
			pacman.x ++;
		}
		else if (m.keyCode == 38 && world[pacman.y-1][pacman.x] != 2){
			document.getElementById('pacman').style.transform="rotate(270deg)";
			pacman.y --;
		}
		else if (m.keyCode == 40 && world[pacman.y+1][pacman.x] != 2){
			document.getElementById('pacman').style.transform="rotate(90deg)";
			pacman.y ++;
		}
		if (world[pacman.y][pacman.x] == 1){
			world[pacman.y][pacman.x] = 0;
			score+=10;
			displayWorld();
			displayScore();
		}

	 displayPacman();
	}

		/////////////////////////////
		// W=87,   D=68       S=83       A=65,
		//up=38 , right=39 , down=40 , left=37

		document.onkeyup = function(e){
		if (e.keyCode == 65 && world[pacman2.y][pacman2.x-1] != 2){
			document.getElementById('pacman2').style.transform="rotate(180deg)";
			pacman2.x --;
		}
		else if (e.keyCode == 68 && world[pacman2.y][pacman2.x+1] != 2){
			document.getElementById('pacman2').style.transform="rotate(0deg)";
			pacman2.x ++;
		}
		else if (e.keyCode == 87 && world[pacman2.y-1][pacman2.x] != 2){
			document.getElementById('pacman2').style.transform="rotate(270deg)";
			pacman2.y --;
		}
		else if (e.keyCode == 83 && world[pacman2.y+1][pacman2.x] != 2){
			document.getElementById('pacman2').style.transform="rotate(90deg)";
			pacman2.y ++;
		}
		if (world[pacman2.y][pacman2.x] == 1){
			world[pacman2.y][pacman2.x] = 0;
			score2+=10;
			displayWorld();
			displayScore2();
		}

	 displayPacman2();
	}

	</script>
</body>
</html>